{% extends "academy/base.html" %}
{% load static %}
{% block title %}{{ title }}{% endblock %}

{% block content %}

<h1 class="text-4xl font-bold text-green-400 mb-10 text-center">{{ title }}</h1>

<div class="max-w-xl mx-auto bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-700">

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Nama -->
        <label class="text-gray-300 font-medium">Nama</label>
        <input type="text" name="name"
            class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-gray-200 mt-1 mb-4"
            value="{{ coach.name|default:'' }}">

        <!-- Lisensi -->
        <label class="text-gray-300 font-medium">Lisensi</label>
        <input type="text" name="license_level"
            class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-gray-200 mt-1 mb-4"
            value="{{ coach.license_level|default:'' }}">

        <!-- Nomor Telepon -->
        <label class="text-gray-300 font-medium">Nomor Telepon</label>
        <input type="text" name="phone"
            class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-gray-200 mt-1 mb-4"
            value="{{ coach.phone|default:'' }}">

        <!-- Foto -->
        <label class="text-gray-300 font-medium">Foto</label>
        <input type="file" name="photo"
            class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 mt-1 mb-4 text-gray-200">

        {% if coach and coach.photo %}
        <p class="text-gray-300 mb-2">Foto Saat Ini:</p>
        <img src="{{ coach.photo.url }}" class="w-40 h-40 rounded-xl object-cover mb-4">
        {% endif %}

        <div class="flex space-x-4 mt-6">
            <button type="submit"
                class="w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded-xl">
                Simpan
            </button>

            <a href="/coaches/"
                class="w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-xl text-center">
                Batal
            </a>
        </div>
        {% if coach %}
        <div class="mt-6">
            <form action="/coaches/{{ coach.id }}/delete/" method="post"
                onsubmit="return confirm('Yakin ingin menghapus pelatih ini?');">
                {% csrf_token %}
                <button type="submit"
                    class="w-full bg-red-600 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-xl">
                    Hapus Pelatih
                </button>
            </form>
        </div>
        {% endif %}

    </form>

</div>

{% endblock %}